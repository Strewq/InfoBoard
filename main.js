!function(e){function t(t){for(var s,i,o=t[0],l=t[1],m=t[2],d=0,u=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(c&&c(t);u.length;)u.shift()();return r.push.apply(r,m||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={0:0},r=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var m=0;m<o.length;m++)t(o[m]);var c=l;r.push([46,1]),a()}([,function(e,t,a){e.exports={commonGadgetComponent:"commonGadgetComponent-3Itl8lUq-AoJKV07",flex:"flex-1Fz9FMePJ4pt_UFC",noData:"noData-31yMYlgJmW1zXeoo"}},function(e,t,a){e.exports={Sidebar:"Sidebar-3JOVoe1yZGNG9QEV",buttonContainer:"buttonContainer-29mjW2a1EapIgdiF",button:"button-1tKcnGDeJNUeyeUk",closeButton:"closeButton-1-OzqMCXDU3_YPG1",fixedContainer:"fixedContainer-APegGE6LISbVTMrD",formContainer:"formContainer-2aSBRBFlIwHgFdAd",selected:"selected-2ms73D5oAAqtt0ib"}},,function(e,t,a){e.exports={gadgetAddForm:"gadgetAddForm-3EGFlsolkWaG8AWH",invalidForm:"invalidForm-2UN13zqQnDxMQ2pt",header:"header-1MNkFAohkfJTG32J"}},function(e,t,a){e.exports={timeCommonInput:"timeCommonInput-X5PTgLrxW4wr7raS",timeInput:"timeInput-Ogk6VE6zq1h6Dlan",inputPartContainer:"inputPartContainer-9t4E6-GnwR23-p9P",sign:"sign-3i6QOKLL8A48wqjw",nullButton:"nullButton-3Hk-PKckj6LT5qyd",checked:"checked-NxhgclC2t0QxWpji",buttonContainer:"buttonContainer-3ZsRCU0oudIDREcl",modeButton:"modeButton-ApAJa7Yz5NTnkFTL",nullValue:"nullValue-2jVRJyEhmb4e2rIu"}},,function(e,t,a){e.exports={deleteButton:"deleteButton-yzcczrtKPewfRCCi"}},function(e,t,a){e.exports={tagListContainer:"tagListContainer-o5Qa0wWwPaMKVTCg"}},function(e,t,a){e.exports={addButton:"addButton-2Hl0HiTxH4KUnN1c"}},function(e,t,a){e.exports={editableStringList:"editableStringList-2pf4k06ImhlieCE5",listItem:"listItem-BsHRsFs5w-2wC1Uk",focus:"focus-23gA7vS4kvssh3fW",input:"input-vItU3AFwdtD63gw1",arrowContainer:"arrowContainer-33ms0qXWBsXGJE27",button:"button-WCpEv_4GVm0T_XbL"}},function(e,t,a){e.exports={app:"app-9l4BgoMFVnqT0I3v",left:"left-1-ThOu-sWHTX-1tn",right:"right-30kq24gE3yVjr0bp",empty:"empty-8YZAMqE3FZYWvr9_",componentSection:"componentSection-KvPpW6a80nLEdM06"}},,function(e,t,a){e.exports={infoContainer:"infoContainer-35hORzz4bP58It3T",counter:"counter-3S-sssUvJZs656lf",changeButton:"changeButton-28eUP1o5P6ckyiOo",comparisonOperatorIcon:"comparisonOperatorIcon-8pR3R1QBEiVDk_x5",isCompleted:"isCompleted-3XsMM3beAHn-LioE"}},function(e,t,a){e.exports={stringListAddForm:"stringListAddForm-35HVFVcgOdCTKyIW",listItem:"listItem-2uI0UBuT1KpFH6Ft",focus:"focus-DIrYe9XfJAv0qZ0C",input:"input-k5y0WcEggPsKJMZ7",button:"button-2vEzjuMXSehl7s8x"}},function(e,t,a){e.exports={timeListAddForm:"timeListAddForm-1qswaiDQWMQ2t_mY",listItem:"listItem-2g2WjN5uy8_4DnxA",focus:"focus-3Es1tLe1VTlwFUMZ",button:"button-1qHRoo9M6W6vfzKW",newTimeInput:"newTimeInput-2Vgr4M4cOEiEjL00"}},function(e,t,a){e.exports={customCheckbox:"customCheckbox-14Q0rAtM57YWWUWX",checkbox:"checkbox-3HHXxAB762TzMPNe",border:"border-3gp5B9EnybI695M5",interactive:"interactive-8NA3HnK0eq1T4wPs",img:"img-2BSUG2TO962fbq2M"}},function(e,t,a){e.exports={fraction:"fraction-2n0AjiaM93Z7u80C",numerator:"numerator-2jDPSEVQvO6IwG6_",denominator:"denominator-1ZMEnlpeJFiFNxXe",line:"line-CrD22hPlzv73M3sr"}},function(e,t,a){e.exports={checkboxContainer:"checkboxContainer-2T7P6nfLjIciQb-A"}},function(e,t,a){e.exports={nameInputContainer:"nameInputContainer-2n3A39isWek4SXhh",focus:"focus-2Vaij1Bncx8rc1Jo",nameInput:"nameInput-2oetYa34a_Ly_C1X"}},function(e,t,a){e.exports={comparisonOperatorSelect:"comparisonOperatorSelect-RpwMN3NlFirktGwh",focus:"focus-TZDs8T5xwVYLS0II",select:"select-cyFcV6lDLpabkl4b"}},function(e,t,a){e.exports={numberInputContainer:"numberInputContainer-hEMG4OcGrGWJ6IZO",focus:"focus-34OwX_cJPp2c_5jA",numberInput:"numberInput-rIKFHZgY0q95Yx_w"}},function(e,t,a){e.exports={nameInputContainer:"nameInputContainer-om-pGi1mQSrx8nCF",focus:"focus-3-Gv_gsdw3Al0BGq",nameInput:"nameInput-2pwo6iQ72gTnu5rd"}},function(e,t,a){e.exports={container:"container-2szb6hNSdxeOs9dG",scrollable:"scrollable-1snzFTUp7Y9tb2hD"}},,,,,function(e,t,a){e.exports={regularTaskComponent:"regularTaskComponent-3CYcmUrPA6Adu61I"}},function(e,t,a){e.exports={arrowContainer:"arrowContainer-Om659SSRaFq2VA5X"}},function(e,t,a){e.exports={counterTaskComponent:"counterTaskComponent-1dGWV1j8-P8CPed8"}},function(e,t,a){e.exports={stringListGadgetComponent:"stringListGadgetComponent-ts8rM_FAQ4N1h87v"}},function(e,t,a){e.exports={message:"message-XqpaVFcGZvuHh8J9"}},function(e,t,a){e.exports={messageComponent:"messageComponent-1zO2XpDq0i3234Tm"}},function(e,t,a){e.exports={countdownElem:"countdownElem-dJ0r4kk-RFJpgG08"}},function(e,t,a){e.exports={timerComponent:"timerComponent-1yewzAzTWsVXxDyJ"}},function(e,t,a){e.exports={toogleButton:"toogleButton-FvksmGHSDkWciR9Z"}},function(e,t,a){e.exports={clearButton:"clearButton-1vaf0gUSckv-TiZe"}},function(e,t,a){e.exports={elapsedElem:"elapsedElem-MUkHbyYbNDDIP_6P"}},function(e,t,a){e.exports={stopwatchComponent:"stopwatchComponent-L2K3WOfGQT-vivqt"}},,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(40);var s=a(0),n=a.n(s),r=a(26),i=a.n(r);var o=a(6),l=a.n(o);class m extends Map{constructor(e,t){super(),this.order=[];let a=new l.a;Object.assign(this,a),this.reset(null!=e?e:[],null!=t?t:[])}static fromJSON(e){return new m(e.content,e.order)}toJSON(){return{_type:"EventEmittingOrderedMap",content:[...super.entries()],order:[...this.order]}}setWithoutEvents(e,t){return super.set(e,t)}deleteWithoutEvents(e){return super.delete(e)}set(e,t){return this.has(e)&&this.delete(e),super.set(e,t),this.order.push(e),this.emit("setItem",e),this.emit("update"),this}delete(e){let t=this.get(e),a=super.delete(e);if(a){let a=this.getIndexByKey(e);this.order.splice(a,1),this.emit("deleteItem",t),this.emit("update")}return a}reset(e,t){for(let e of super.keys())this.delete(e);for(let[t,a]of e)this.set(t,a);t.length===this.size&&(this.order=[...t])}atIndex(e){return this.get(this.order[e])}getIndexByKey(e){return this.order.indexOf(e)}moveItem(e,t){if(e>=this.order.length||e<0)return;if(t>=this.order.length||t<0)return;let a=this.order.splice(e,1)[0];this.order.splice(t,0,a),this.emit("moveItem",e,t),this.emit("update")}[Symbol.iterator](){return this.entries()}entries(){let e={self:this,currentIndex:0,next(){if(this.currentIndex>=this.self.order.length)return{value:void 0,done:!0};let e=this.self.order[this.currentIndex];return++this.currentIndex,{value:[e,this.self.get(e)],done:!1}}};return e[Symbol.iterator]=()=>e,e}keys(){let e={self:this,currentIndex:0,next(){if(this.currentIndex>=this.self.order.length)return{value:void 0,done:!0};let e=this.self.order[this.currentIndex];return++this.currentIndex,{value:e,done:!1}}};return e[Symbol.iterator]=()=>e,e}values(){let e={self:this,currentIndex:0,next(){if(this.currentIndex>=this.self.order.length)return{value:void 0,done:!0};let e=this.self.order[this.currentIndex];return++this.currentIndex,{value:this.self.get(e),done:!1}}};return e[Symbol.iterator]=()=>e,e}forEach(e,t){for(let[a,s]of this.entries())e.call(t,s,a,this)}}!function(e,t){for(let a of t){let t=Object.getOwnPropertyDescriptors(a.prototype);delete t.constructor,Object.defineProperties(e.prototype,t)}}(m,[l.a]);class c{constructor(){this.deserializators=new Map,this._reviveFunc=(e,t)=>{if(t&&"string"==typeof t._type){let e=this.deserializators.get(t._type);if(void 0!==e)return e(t)}return t}}revive(e){return JSON.parse(e,this._reviveFunc)}}var d=a(47);class u extends Error{constructor(e,t=null){super(e),this.name="CreatingError",this.cause=t}}class p extends Error{constructor(){super(...arguments),this.name="UniquenessError"}}function h(e){var t,a,s;this.name=null!==(t=e.name)&&void 0!==t?t:"",this.uuid=null!==(a=e.uuid)&&void 0!==a?a:Object(d.a)();let n=[...null!==(s=e.tags)&&void 0!==s?s:[]],r=new Set;for(let e of n){if(r.has(e))throw new u("All tags must be unique",new p);r.add(e)}this.tags=n}function g(){let e={};return e.name=this.name,e.uuid=this.uuid,e.tags=this.tags,e}function v(e){return{name:e.name,uuid:e.uuid,tags:e.tags}}var T=a(3);const f=["y","mo","d","h","m","s","ms"],E={ms:1e3,s:60,m:60,h:24,d:100,mo:12},C=E.ms,w=E.s,k=E.m,N=E.h,S={ms:1};S.s=S.ms*C,S.m=S.s*w,S.h=S.m*k,S.d=S.h*N;const b={mo:new T.a(0,E.mo,!0,!1),h:new T.a(0,E.h,!0,!1),m:new T.a(0,E.m,!0,!1),s:new T.a(0,E.s,!0,!1),ms:new T.a(0,E.ms,!0,!1)},I={mo:new T.a(0,E.mo-1),h:new T.a(0,E.h-1),m:new T.a(0,E.m-1),s:new T.a(0,E.s-1),ms:new T.a(0,E.ms-1)},L={...b,d:new T.a(0,E.d,!0,!1)},x={...I,y:new T.a(0,1/0),d:new T.a(0,E.d-1)},U={...b,y:new T.a(-1/0,1/0,!0,!0)},P={...I,y:new T.a(-1/0,1/0)},H={28:new T.a(0,28,!0,!1),29:new T.a(0,29,!0,!1),30:new T.a(0,30,!0,!1),31:new T.a(0,31,!0,!1)},y={28:new T.a(1,28),29:new T.a(1,29),30:new T.a(1,30),31:new T.a(1,31)},B=[31,null,31,30,31,30,31,31,30,31,30,31];function F(e,t){return 1===t?new Date(e,2,0).getDate():B[t]}const O=new Map([[!1,{y:"getFullYear",mo:"getMonth",d:"getDate",h:"getHours",m:"getMinutes",s:"getSeconds",ms:"getMilliseconds"}],[!0,{y:"getUTCFullYear",mo:"getUTCMonth",d:"getUTCDate",h:"getUTCHours",m:"getUTCMinutes",s:"getUTCSeconds",ms:"getUTCMilliseconds"}]]),M=new Map([[!1,{y:"setFullYear",mo:"setMonth",d:"setDate",h:"setHours",m:"setMinutes",s:"setSeconds",ms:"setMilliseconds"}],[!0,{y:"setUTCFullYear",mo:"setUTCMonth",d:"setUTCDate",h:"setUTCHours",m:"setUTCMinutes",s:"setUTCSeconds",ms:"setUTCMilliseconds"}]]);class _{constructor(...e){this._date=new Date(...e)}getNum(){return this._date.getTime()}setNum(e){this._date.setTime(e)}getPart(e,t){return this._date[O.get(t)[e]]()}setPart(e,t,a,s=0){if(0===s)this._date[M.get(a)[t]](e);else if(1===s)if("d"===t){let s=this.getPart("y",a),n=this.getPart("mo",a),r=y[F(s,n)],i=Object(T.c)(e,r);this._date[M.get(a)[t]](i)}else{let s=Object(T.c)(e,P[t]);this._date[M.get(a)[t]](s)}else if(2===s)if("d"===t){let s=this.getPart("y",a),n=this.getPart("mo",a),r=H[F(s,n)],i=Object(T.b)(e-1,r)+1;this._date[M.get(a)[t]](i)}else{let s=Object(T.b)(e,U[t]);this._date[M.get(a)[t]](s)}}}class ${constructor(e,t){this._parts="number"==typeof e?$._createTimeTermPartsByTimeDiff(e,t):null===e?$._createTimeTermPartsByNull():void 0===e?$._createZeroTimeTermParts():$._createTimeTermPartsFromTimeTerm(e)}static _createTimeTermPartsFromTimeTerm(e){let t={};t.sign=e.getSign();for(let a of f)t[a]=e.getPart(a);return t}static _createZeroTimeTermParts(){let e={sign:1};for(let t of f)e[t]=0;return e}static _createTimeTermPartsByTimeDiff(e,t){let a=new _(e),s=new _(t),n={};e>=t?n.sign=1:(n.sign=-1,[s,a]=[a,s]);let r=0;for(let e=f.length-1;e>=0;--e){let t=f[e],i=a.getPart(t,!0)-s.getPart(t,!0)+r;if(i<0)if(r=-1,"d"===t){let e=a.getPart("y",!0),t=a.getPart("mo",!0),s=new _(e,t);s.setPart(t-1,"mo",!0,0),i+=F(e,s.getPart("mo",!0))}else"y"===t||(i+=E[t]);else r=0;n[t]=i}return n}static _createTimeTermPartsByNull(){let e={sign:1};for(let t of f)e[t]=NaN;return e}getSign(){return this._parts.sign}setSign(e){this._parts.sign=e}getPart(e){return this._parts[e]}setPart(e,t,a=0){if(0===a){let a=e;for(let e=f.indexOf(t);e>=0;--e){let t=f[e];if("y"===t)-1===Math.sign(a)&&(this._parts.sign=1===this._parts.sign?-1:1,a+=1),this._parts.y=Math.abs(a);else{let s=E[t],n=a%s,r=Math.trunc(a/s);-1===Math.sign(n)&&(n=s+n,r+=-1),this._parts[t]=n,a=this._parts[f[e-1]]+r}}}else if(1===a)this._parts[t]=Object(T.c)(e,x[t]);else if(2===a){if("y"===t)return void(this._parts[t]=Math.abs(e));this._parts[t]=Object(T.b)(e,L[t])}}}function D(e,t,a,...s){let n={clear(){clearInterval(this.currentId)}};return function e(r){n.currentId=r>2**31-1?setTimeout(()=>e(r-(2**31-1)),2**31-1):setTimeout(t.bind(a),r,...s)}(e),n}function R(e){let t=null;for(let a of f)if(e.getPart(a)>0){t=a;break}return null===t&&(t="ms"),t}function A(e,t,a,s){let n=new $(t);return n.setPart(n.getPart(a)+e,a,s),n.getPart(a)}function G(e,t){let a=new _(e),s=t.getSign();for(let e=f.length-1;e>=0;--e){let n=f[e];a.setPart(a.getPart(n,!0)+s*t.getPart(n),n,!0,0)}return a.getNum()}function J(e,t){let a=new $(e,t),s=R(a);return a.setPart(0,s,1),G(e,a)-e}const j={y:"years",mo:"months",d:"days",h:"hours",m:"minutes",s:"seconds",ms:"milliseconds"};function Y(e){let t=R(e);return`${-1===e.getSign()?"-":""}${e.getPart(t)} ${j[t]}`}class W extends l.a{constructor(e){super();let t=W.timeSource.now(),a=e.map(e=>"number"!=typeof e?G(t,e):e);this.targetTimes=[...a].sort((e,t)=>e-t),this.currentTargetTime=this._calcCurrentTargetTime(t),this.currentTimePeriodIndex=this._calcCurrentTimePeriodIndex(t);for(let e=0;e<this.targetTimes.length;++e)if(t<this.targetTimes[e]){let a=e+1!==this.targetTimes.length?this.targetTimes[e+1]:null;D(this.targetTimes[e]-t,this._emitTargetTimeComeEvent,this,e+1,a)}}_calcCurrentTimePeriodIndex(e){if(0===this.targetTimes.length)return 0;for(let t=0;t<this.targetTimes.length;++t)if(e<this.targetTimes[t])return t;return this.targetTimes.length}_calcCurrentTargetTime(e){if(0===this.targetTimes.length)return null;for(let t=0;t<this.targetTimes.length;++t)if(e<this.targetTimes[t])return this.targetTimes[t];return null}_emitTargetTimeComeEvent(e,t){this.currentTimePeriodIndex=e,this.currentTargetTime=t,this.emit("targetTimeCome"),this.emit("update")}getTimeTermToCurrentTargetTime(){return null===this.currentTargetTime?null:new $(this.currentTargetTime,W.timeSource.now())}getTimelengthToCurrentTargetTime(){return null===this.currentTargetTime?null:this.currentTargetTime-W.timeSource.now()}}W.timeSource=Date;class q extends l.a{constructor(e,t){if("number"!=typeof e&&null!==e&&(e=G(q.timeSource.now(),e)),"number"!=typeof t&&null!==t&&(t=G(q.timeSource.now(),t)),null!==e&&(e-=e%6e4),null!==t&&(t-=t%6e4),null!==e&&null!==t&&e>t)throw new u("EndTime must be greater than or equal to StartTime",new RangeError);super(),this.startTime=e,this.endTime=t;let a=[];null!==e&&a.push(e),null!==t&&a.push(t),this._baseTimer=new W(a),this._baseTimer.addListener("targetTimeCome",this._emitStageChangeEvent,this);let s=q.timeSource.now();this.stage=this._calcStage(s),this.currentTargetTime=this._calcCurrentTargetTime(s)}_calcStage(e){return null!==this.startTime&&e<this.startTime?0:null!==this.endTime&&e>this.endTime?2:1}_calcCurrentTargetTime(e){let t=this._calcStage(e);return 0===t?this.startTime:1===t&&null!==this.endTime?this.endTime:null}_emitStageChangeEvent(){this.stage=this.stage+1,this.currentTargetTime=this._baseTimer.currentTargetTime,this.emit("stageChange"),this.emit("update")}getTimeTermToCurrentTargetTime(){return this._baseTimer.getTimeTermToCurrentTargetTime()}getTimelengthToCurrentTargetTime(){return this._baseTimer.getTimelengthToCurrentTargetTime()}static fromJSON(e){return new q(e.startTime,e.endTime)}toJSON(){return{_type:"TimeLimits",startTime:this.startTime,endTime:this.endTime}}}function K(e){var t;h.call(this,e),this.timeLimits=null!==(t=e.timeLimits)&&void 0!==t?t:new q(null,null)}function z(){let e=g.call(this);return e.timeLimits=this.timeLimits,e}function V(e){return{...v(e),timeLimits:e.timeLimits}}q.timeSource=Date;class X extends l.a{constructor(e={}){var t;super(),this.isCompleted=!1,K.call(this,e),this.isCompleted=null!==(t=e.isCompleted)&&void 0!==t&&t}complete(){!0!==this.isCompleted&&(this.isCompleted=!0,this.emit("complete"),this.emit("update"))}uncomplete(){!1!==this.isCompleted&&(this.isCompleted=!1,this.emit("uncomplete"),this.emit("update"))}toggle(){return this.isCompleted=!this.isCompleted,this.isCompleted?this.emit("complete"):this.emit("uncomplete"),this.emit("update"),this.isCompleted}static fromJSON(e){return new X({...V(e),isCompleted:e.isCompleted})}toJSON(){let e=z.call(this);return e._type="RegularTask",e.isCompleted=this.isCompleted,e}}var Z={0:function(e,t){return e===t},1:function(e,t){return e!==t},2:function(e,t){return e>t},3:function(e,t){return e<t},4:function(e,t){return e>=t},5:function(e,t){return e<=t}};class Q extends l.a{constructor(e={}){var t,a,s;super(),K.call(this,e),this.expected=null!==(t=e.expected)&&void 0!==t?t:0,this.actual=null!==(a=e.actual)&&void 0!==a?a:0,this.comparisonOperator=null!==(s=e.comparisonOperator)&&void 0!==s?s:0}get isCompleted(){return!!Z[this.comparisonOperator](this.actual,this.expected)}setActual(e){let t=this.isCompleted;this.actual=e;let a=this.isCompleted;this.emit("actualChange"),this.emit("update"),t!==a&&(!0===a?this.emit("complete"):this.emit("uncomplete"))}increment(){return this.setActual(this.actual+1)}decrement(){return this.setActual(this.actual-1)}static fromJSON(e){return new Q({...V(e),expected:e.expected,actual:e.actual,comparisonOperator:e.comparisonOperator})}toJSON(){let e=z.call(this);return e._type="CounterTask",e.expected=this.expected,e.actual=this.actual,e.comparisonOperator=this.comparisonOperator,e}}class ee extends l.a{constructor(e={}){super(),h.call(this,e),this.items=e.items?[...e.items]:[],this.ids=e.ids?[...e.ids]:[...this.items.map(()=>Object(d.a)())]}addItem(e,t){e>this.items.length||e<0||(this.items.splice(e,0,t),this.ids.splice(e,0,Object(d.a)()),this.emit("addItem",e),this.emit("update"))}deleteItem(e){e>=this.items.length||e<0||(this.items.splice(e,1),this.ids.splice(e,1),this.emit("deleteItem",e),this.emit("update"))}changeItem(e,t){if(e>=this.items.length||e<0)return;let a=this.items[e];this.items[e]=t,this.emit("changeItem",a,t),this.emit("update")}moveItem(e,t){if(e>=this.items.length||e<0)return;if(t>=this.items.length||t<0)return;let a=this.items.splice(e,1)[0];this.items.splice(t,0,a);let s=this.ids.splice(e,1)[0];this.ids.splice(t,0,s),this.emit("moveItem",e,t),this.emit("update")}static fromJSON(e){return new ee({...v(e),items:e.items,ids:e.ids})}toJSON(){let e=g.call(this);return e._type="StringList",e.items=this.items,e.ids=this.ids,e}}class te{constructor(e={}){var t;h.call(this,e),this.message=null!==(t=e.message)&&void 0!==t?t:""}static fromJSON(e){return new te({...v(e),message:e.message})}toJSON(){let e=g.call(this);return e._type="Message",e.message=this.message,e}}class ae extends l.a{constructor(e={}){var t,a;super(),h.call(this,e),this.timePeriods=[...null!==(t=e.timePeriods)&&void 0!==t?t:[]],this.curPeriodStartTime=null!==(a=e.curPeriodStartTime)&&void 0!==a?a:null,this._timeLengthOfCompletedPeriods=this._getTimeLengthOfCompletedPeriods()}get isStarted(){return null!==this.curPeriodStartTime}_getTimeLengthOfCompletedPeriods(){return this.timePeriods.reduce((e,t)=>e+t.length,0)}toggle(){if(this.isStarted){let e=ae.timeSource.now();this.timePeriods.push({start:this.curPeriodStartTime,end:e,length:e-this.curPeriodStartTime}),this.curPeriodStartTime=null,this._timeLengthOfCompletedPeriods=this._getTimeLengthOfCompletedPeriods(),this.emit("stop")}else this.curPeriodStartTime=ae.timeSource.now(),this.emit("start");this.emit("update")}clear(){this.timePeriods.length=0,this.curPeriodStartTime=null,this._timeLengthOfCompletedPeriods=0,this.emit("clear"),this.emit("update")}getCurPeriodTimeTerm(){return null===this.curPeriodStartTime?null:new $(ae.timeSource.now(),this.curPeriodStartTime)}getCurPeriodTimelength(){return null===this.curPeriodStartTime?null:ae.timeSource.now()-this.curPeriodStartTime}getTotalTimelength(){var e;return 0!==this.timePeriods.length||this.isStarted?this._timeLengthOfCompletedPeriods+(null!==(e=this.getCurPeriodTimelength())&&void 0!==e?e:0):null}getTotalTimeTerm(){let e=this.getTotalTimelength(),t=ae.timeSource.now();return null===e?null:new $(t,t-e)}static fromJSON(e){return new ae({...v(e),timePeriods:e.timePeriods,curPeriodStartTime:e.curPeriodStartTime})}toJSON(){let e=g.call(this);return e._type="Stopwatch",e.timePeriods=this.timePeriods,e.curPeriodStartTime=this.curPeriodStartTime,e}}ae.timeSource=Date;class se extends W{constructor(e={}){var t;super(null!==(t=e.targetTimes)&&void 0!==t?t:[]),h.call(this,e)}static fromJSON(e){return new se({...v(e),targetTimes:e.targetTimes})}toJSON(){let e=g.call(this);return e._type="Timer",e.targetTimes=this.targetTimes,e}}class ne{constructor(e,t){this._coreReviver=function(){let e=new c;return e.deserializators.set("EventEmittingOrderedMap",m.fromJSON),e.deserializators.set("RegularTask",X.fromJSON),e.deserializators.set("CounterTask",Q.fromJSON),e.deserializators.set("StringList",ee.fromJSON),e.deserializators.set("Message",te.fromJSON),e.deserializators.set("TimeLimits",q.fromJSON),e.deserializators.set("Stopwatch",ae.fromJSON),e.deserializators.set("Timer",se.fromJSON),e}(),this._storage=e,this._storageKey=t,this.regularTasks=new m,this.counterTasks=new m,this.stringLists=new m,this.messages=new m,this.timers=new m,this.stopwatches=new m;for(let e of ne.containerNames){let t=this[e];t.addListener("update",()=>{this.sendItemsToStorage()}),t.addListener("setItem",e=>{let a=t.get(e);"addListener"in a&&a.addListener("update",this.sendItemsToStorage,this)}),t.addListener("deleteItem",e=>{"removeListener"in e&&e.removeListener("update",this.sendItemsToStorage,this)})}}_checkRevivedJson(e){if(!(e instanceof Object))return!1;for(let t of ne.containerNames){if(!(e[t]instanceof m))return!1}return!0}getItemsFromStorage(){let e=this._storage.getItem(this._storageKey);if(null===e)return;let t=this._coreReviver.revive(e);if(this._checkRevivedJson(t))for(let e of ne.containerNames){let a=t[e];this[e].reset(a.entries(),a.order)}}sendItemsToStorage(){this._storage.setItem(this._storageKey,JSON.stringify({stringLists:this.stringLists,messages:this.messages,regularTasks:this.regularTasks,counterTasks:this.counterTasks,timers:this.timers,stopwatches:this.stopwatches}))}saveStateToFile(){var e;!function(e,t){let a=URL.createObjectURL(e),s=document.createElement("a");s.download=t,s.href=a,s.click(),URL.revokeObjectURL(a)}(new Blob([null!==(e=this._storage.getItem(this._storageKey))&&void 0!==e?e:""],{type:"application/json"}),"state.json")}async loadStateFromFile(){let e=await new Promise((e,t)=>{let a=document.createElement("input");a.type="file",a.addEventListener("change",(function(){e(a.files[0])}),{once:!0}),a.click()}),t=await new Promise((t,a)=>{let s=new FileReader;s.readAsText(e),s.onload=()=>t(s.result),s.onerror=()=>a(s.error)}),a=this._coreReviver.revive(t);if(this._checkRevivedJson(a))for(let e of ne.containerNames){let t=a[e];this[e].reset(t.entries(),t.order)}}}ne.containerNames=["stringLists","messages","regularTasks","counterTasks","timers","stopwatches"];var re=a(27),ie=a.n(re);function oe(e){return e?ie()("%Y-%m-%dT%H:%M:%S.%L",new Date(e)):""}var le=a(12);const me=function(e){const t={};for(let[a,s]of Object.entries(e))t[a]=new Audio(s);return t}({ringing:a.p+"audio/ringing.webm"});function ce(e){let t=me[e];t.currentTime=0,t.play().catch(()=>{})}function de(e){return null===e?"null":oe(e)}function ue(e,t){return`Start Time: ${de(e)}\nEnd Time: ${de(t)}`}class pe extends n.a.PureComponent{constructor(){super(...arguments),this.countdownRef=n.a.createRef(),this.renderCountdownTimerClearer=null,this.update=()=>{this.forceUpdate()},this.getStartAndEndTimesString=Object(le.a)(ue)}componentDidMount(){this.init(this.props)}componentDidUpdate(e){e.timeLimits!==this.props.timeLimits&&(this.deinit(e),this.init(this.props))}componentWillUnmount(){this.deinit(this.props)}init(e){e.timeLimits.addListener("update",this.update,this),e.timeLimits.addListener("stageChange",this.stateChangeHandler,this),this.setTimerToUpdateCountdown()}deinit(e){var t;e.timeLimits.removeListener("update",this.update,this),e.timeLimits.removeListener("stageChange",this.stateChangeHandler,this),null===(t=this.renderCountdownTimerClearer)||void 0===t||t.clear()}stateChangeHandler(){ce("ringing")}setTimerToUpdateCountdown(){if(null===this.props.timeLimits.currentTargetTime)return;let e=J(this.props.timeLimits.currentTargetTime,pe.timeSource.now());0===e&&(e=40),this.renderCountdownTimerClearer=D(e,this.renderCountdown,this)}renderCountdown(){null!==this.countdownRef.current&&null!==this.props.timeLimits.currentTargetTime&&(this.countdownRef.current.textContent=this.getCountdownStr(),this.setTimerToUpdateCountdown())}getCountdownStr(){let e=this.props.timeLimits.getTimeTermToCurrentTargetTime();return null===e?"null":Y(e)}render(){let e,t=this.props.timeLimits;switch(t.stage){case 0:e=n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"Task will start in")," ",n.a.createElement("span",{ref:this.countdownRef},this.getCountdownStr()));break;case 1:e=null===t.endTime?n.a.createElement("span",null,"Task in progress"):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"Task will end in")," ",n.a.createElement("span",{ref:this.countdownRef},this.getCountdownStr()));break;case 2:e=n.a.createElement("span",null,"Task timed out")}return n.a.createElement("span",{title:this.getStartAndEndTimesString(t.startTime,t.endTime)},e)}}pe.timeSource=Date;var he=n.a.memo((function({strings:e}){let t=e.map(e=>n.a.createElement("li",{key:e},e));return n.a.createElement("ul",null,t)})),ge=a(16),ve=a.n(ge);function Te({checked:e,onUpdate:t,interactive:a=!0}){let s=n.a.useCallback(e=>t(e.target.checked),[t]);return n.a.createElement("div",{className:`${ve.a.customCheckbox} ${a?ve.a.interactive:""}`},n.a.createElement("input",{type:"checkbox",checked:e,className:ve.a.checkbox,onChange:s}),n.a.createElement("span",{className:ve.a.border}),n.a.createElement("span",{className:ve.a.img}))}var fe=a(1),Ee=a.n(fe),Ce=a(7),we=a.n(Ce),ke=a(18),Ne=a.n(ke),Se=a(8),be=a.n(Se),Ie=a(28),Le=a.n(Ie),xe=a.p+"imgs/upArrow.svg",Ue=a.p+"imgs/downArrow.svg",Pe=a(29),He=a.n(Pe);class ye extends n.a.PureComponent{constructor(){super(...arguments),this.moveItemButtonClickHandler=e=>{let t=this.props.map.getIndexByKey(this.props.mapKey),a=Number(e.currentTarget.dataset.shift);this.props.map.moveItem(t,t+a)}}render(){return n.a.createElement("div",{className:He.a.arrowContainer},n.a.createElement("button",{"data-shift":"-1",onClick:this.moveItemButtonClickHandler},n.a.createElement("img",{src:xe})),n.a.createElement("button",{"data-shift":"1",onClick:this.moveItemButtonClickHandler},n.a.createElement("img",{src:Ue})))}}class Be extends n.a.PureComponent{constructor(){super(...arguments),this.update=()=>{this.forceUpdate()},this.deleteButtonClickHandler=e=>{this.props.deleteRegularTask(this.props.regularTask)},this.toogleIsCompleted=()=>{this.props.regularTask.toggle()}}componentDidMount(){this.init(this.props)}componentDidUpdate(e){e.regularTask===this.props.regularTask&&e.deleteRegularTask===this.props.deleteRegularTask||(this.deinit(e),this.init(this.props))}componentWillUnmount(){this.deinit(this.props)}init(e){e.regularTask.addListener("update",this.update,this)}deinit(e){e.regularTask.removeListener("update",this.update,this)}render(){let e=""===this.props.regularTask.name?n.a.createElement("span",{className:`${Ee.a.flex} ${Ee.a.noData}`},"No name"):n.a.createElement("span",{className:Ee.a.flex},this.props.regularTask.name),t=0===this.props.regularTask.tags.length?n.a.createElement("span",{className:Ee.a.noData},"No Tags"):n.a.createElement(he,{strings:this.props.regularTask.tags});return n.a.createElement("div",{className:`${Ee.a.commonGadgetComponent} ${Le.a.regularTaskComponent}`},n.a.createElement(ye,{map:this.props.regularTaskMap,mapKey:this.props.regularTask.uuid}),n.a.createElement("div",{className:Ne.a.checkboxContainer},n.a.createElement(Te,{checked:this.props.regularTask.isCompleted,onUpdate:this.toogleIsCompleted})),e,n.a.createElement("div",{className:Ee.a.flex},n.a.createElement(pe,{timeLimits:this.props.regularTask.timeLimits})),n.a.createElement("div",{className:`${Ee.a.flex} ${be.a.tagListContainer}`},t),n.a.createElement("button",{className:we.a.deleteButton,onClick:this.deleteButtonClickHandler},"Delete"))}}var Fe=a(13),Oe=a.n(Fe),Me=a(30),_e=a.n(Me),$e=a.p+"imgs/equalToIcon.svg",De=a.p+"imgs/notEqualToIcon.svg",Re=a.p+"imgs/greaterThanIcon.svg",Ae=a.p+"imgs/lessThanIcon.svg",Ge=a.p+"imgs/greaterThanOrEqualToIcon.svg",Je=a.p+"imgs/lessThanOrEqualToIcon.svg",je=a.p+"imgs/addIcon.svg",Ye=a.p+"imgs/minusIcon.svg";const We={0:$e,1:De,2:Re,3:Ae,4:Ge,5:Je};class qe extends n.a.PureComponent{constructor(){super(...arguments),this.update=()=>{this.forceUpdate()},this.deleteButtonClickHandler=e=>{this.props.deleteCounterTask(this.props.counterTask)},this.incrementButtonClickHandler=e=>{this.props.counterTask.increment()},this.decrementButtonClickHandler=e=>{this.props.counterTask.decrement()}}componentDidMount(){this.init(this.props)}componentDidUpdate(e){e.counterTask===this.props.counterTask&&e.deleteCounterTask===this.props.deleteCounterTask||(this.deinit(e),this.init(this.props))}componentWillUnmount(){this.deinit(this.props)}init(e){e.counterTask.addListener("update",this.update,this)}deinit(e){e.counterTask.removeListener("update",this.update,this)}stubFunc(){}render(){let e=""===this.props.counterTask.name?n.a.createElement("span",{className:`${Ee.a.flex} ${Ee.a.noData}`},"No name"):n.a.createElement("span",{className:Ee.a.flex},this.props.counterTask.name),t=0===this.props.counterTask.tags.length?n.a.createElement("span",{className:Ee.a.noData},"No Tags"):n.a.createElement(he,{strings:this.props.counterTask.tags});return n.a.createElement("div",{className:`${Ee.a.commonGadgetComponent} ${_e.a.counterTaskComponent}`},n.a.createElement(ye,{map:this.props.counterTaskMap,mapKey:this.props.counterTask.uuid}),n.a.createElement("div",{className:Ne.a.checkboxContainer},n.a.createElement(Te,{checked:this.props.counterTask.isCompleted,interactive:!1,onUpdate:this.stubFunc})),n.a.createElement("div",{className:`${Ee.a.flex} ${Oe.a.infoContainer}`},n.a.createElement("div",{className:Oe.a.counter},n.a.createElement("button",{className:Oe.a.changeButton,onClick:this.incrementButtonClickHandler},n.a.createElement("img",{src:je})),n.a.createElement("span",{className:Oe.a.actual},this.props.counterTask.actual),n.a.createElement("button",{className:Oe.a.changeButton,onClick:this.decrementButtonClickHandler},n.a.createElement("img",{src:Ye}))),n.a.createElement("img",{className:`${Oe.a.comparisonOperatorIcon} ${this.props.counterTask.isCompleted?Oe.a.isCompleted:""}`,src:We[this.props.counterTask.comparisonOperator]}),n.a.createElement("span",{className:Oe.a.expected},this.props.counterTask.expected)),e,n.a.createElement("div",{className:Ee.a.flex},n.a.createElement(pe,{timeLimits:this.props.counterTask.timeLimits})),n.a.createElement("div",{className:`${Ee.a.flex} ${be.a.tagListContainer}`},t),n.a.createElement("button",{className:we.a.deleteButton,onClick:this.deleteButtonClickHandler},"Delete"))}}var Ke=a(10),ze=a.n(Ke),Ve=a.p+"imgs/deleteIcon.svg";class Xe extends n.a.Component{constructor(){super(...arguments),this.state={doNeedMoveFocus:!1,focusLiNum:null},this.ulRef=n.a.createRef(),this.stringInputChangeHandler=e=>{let t=Number(e.target.parentElement.dataset.num),a=e.target.value;this.props.changeItem(t,a)},this.deleteStringButtonClickHandler=e=>{let t=Number(e.target.parentElement.dataset.num);this.props.deleteItem(t)},this.moveItemButtonClickHandler=e=>{let t=Number(e.currentTarget.parentElement.parentElement.dataset.num),a=t+Number(e.currentTarget.dataset.shift);this.props.moveItem(t,a)},this.newStringInputChangeHandler=e=>{let t=this.props.strings.length,a=e.currentTarget.value;this.props.addItem(t,a),this.setState({doNeedMoveFocus:!0})},this.onFocus=e=>this.setState({focusLiNum:Number(e.target.parentElement.dataset.num)}),this.onBlur=()=>this.setState({focusLiNum:null})}componentDidUpdate(){if(this.state.doNeedMoveFocus){let e=this.ulRef.current;e.children[e.children.length-2].querySelector("input").focus(),this.setState({doNeedMoveFocus:!1})}}render(){let e=this.props.ids,t=this.props.strings.map((t,a)=>n.a.createElement("li",{key:e[a],"data-num":a,className:`${ze.a.listItem} ${this.state.focusLiNum===a?ze.a.focus:""}`},n.a.createElement("input",{type:"text",value:t,className:ze.a.input,onChange:this.stringInputChangeHandler,onFocus:this.onFocus,onBlur:this.onBlur}),n.a.createElement("div",{className:ze.a.arrowContainer},n.a.createElement("button",{className:ze.a.button,"data-shift":"-1",onClick:this.moveItemButtonClickHandler},n.a.createElement("img",{src:xe})),n.a.createElement("button",{className:ze.a.button,"data-shift":"1",onClick:this.moveItemButtonClickHandler},n.a.createElement("img",{src:Ue}))),n.a.createElement("button",{className:ze.a.button,onClick:this.deleteStringButtonClickHandler},n.a.createElement("img",{src:Ve}))));return n.a.createElement("ul",{ref:this.ulRef,className:ze.a.editableStringList},t,n.a.createElement("li",{"data-num":t.length,className:`${ze.a.listItem} ${this.state.focusLiNum===t.length?ze.a.focus:""}`},n.a.createElement("input",{type:"text",value:"",className:ze.a.input,onChange:this.newStringInputChangeHandler,onFocus:this.onFocus,onBlur:this.onBlur})))}}var Ze=a(31),Qe=a.n(Ze);function et(e){return{addItem:e.addItem.bind(e),deleteItem:e.deleteItem.bind(e),changeItem:e.changeItem.bind(e),moveItem:e.moveItem.bind(e)}}class tt extends n.a.PureComponent{constructor(){super(...arguments),this.update=()=>{this.forceUpdate()},this.deleteButtonClickHandler=e=>{this.props.deleteStringListGadget(this.props.stringList)},this.getBindedFuncs=Object(le.a)(et)}componentDidMount(){this.init(this.props)}componentDidUpdate(e){e.stringList===this.props.stringList&&e.deleteStringListGadget===this.props.deleteStringListGadget||(this.deinit(e),this.init(this.props))}componentWillUnmount(){this.deinit(this.props)}init(e){e.stringList.addListener("update",this.update,this)}deinit(e){e.stringList.removeListener("update",this.update,this)}render(){let{addItem:e,deleteItem:t,changeItem:a,moveItem:s}=this.getBindedFuncs(this.props.stringList),r=""===this.props.stringList.name?n.a.createElement("span",{className:`${Ee.a.flex} ${Ee.a.noData}`},"No name"):n.a.createElement("span",{className:Ee.a.flex},this.props.stringList.name),i=0===this.props.stringList.tags.length?n.a.createElement("span",{className:Ee.a.noData},"No Tags"):n.a.createElement(he,{strings:this.props.stringList.tags});return n.a.createElement("div",{className:`${Ee.a.commonGadgetComponent} ${Qe.a.stringListGadgetComponent}`},n.a.createElement(ye,{map:this.props.stringListGadgetMap,mapKey:this.props.stringList.uuid}),r,n.a.createElement("div",{className:Ee.a.flex},n.a.createElement(Xe,{strings:this.props.stringList.items,ids:this.props.stringList.ids,addItem:e,deleteItem:t,changeItem:a,moveItem:s})),n.a.createElement("div",{className:`${Ee.a.flex} ${be.a.tagListContainer}`},i),n.a.createElement("button",{className:we.a.deleteButton,onClick:this.deleteButtonClickHandler},"Delete"))}}var at=a(32),st=a.n(at),nt=a(33),rt=a.n(nt);class it extends n.a.PureComponent{constructor(){super(...arguments),this.deleteButtonClickHandler=e=>{this.props.deleteMessage(this.props.message)}}render(){let e=""===this.props.message.name?n.a.createElement("span",{className:`${Ee.a.flex} ${Ee.a.noData}`},"No name"):n.a.createElement("span",{className:Ee.a.flex},this.props.message.name),t=""===this.props.message.message?n.a.createElement("span",{className:`${Ee.a.flex} ${Ee.a.noData}`},"No message"):n.a.createElement("span",{className:`${Ee.a.flex} ${st.a.message}`},this.props.message.message),a=0===this.props.message.tags.length?n.a.createElement("span",{className:Ee.a.noData},"No Tags"):n.a.createElement(he,{strings:this.props.message.tags});return n.a.createElement("div",{className:`${Ee.a.commonGadgetComponent} ${rt.a.messageComponent}`},n.a.createElement(ye,{map:this.props.messageMap,mapKey:this.props.message.uuid}),e,t,n.a.createElement("div",{className:`${Ee.a.flex} ${be.a.tagListContainer}`},a),n.a.createElement("button",{className:we.a.deleteButton,onClick:this.deleteButtonClickHandler},"Delete"))}}var ot=a(34),lt=a.n(ot),mt=a(17),ct=a.n(mt),dt=a.p+"imgs/fractionalBarIcon.svg",ut=a(35),pt=a.n(ut);function ht(e){let t=[];for(let[a,s]of e.entries())t[a]=`${a} time: ${oe(s)}`;return t.join("\n")}class gt extends n.a.PureComponent{constructor(){super(...arguments),this.countdownRef=n.a.createRef(),this.renderCountdownTimerClearer=null,this.update=()=>{this.forceUpdate()},this.deleteButtonClickHandler=e=>{this.props.deleteTimer(this.props.timer)},this.getTargetTimesStr=Object(le.a)(ht)}componentDidMount(){this.init(this.props)}componentDidUpdate(e){e.timer===this.props.timer&&e.deleteTimer===this.props.deleteTimer||(this.deinit(e),this.init(this.props))}componentWillUnmount(){this.deinit(this.props)}init(e){e.timer.addListener("update",this.update,this),e.timer.addListener("targetTimeCome",this.targetTimeComeHandler,this),this.setTimerToUpdateCountdown()}deinit(e){var t;e.timer.removeListener("update",this.update,this),e.timer.removeListener("targetTimeCome",this.targetTimeComeHandler,this),null===(t=this.renderCountdownTimerClearer)||void 0===t||t.clear()}targetTimeComeHandler(){ce("ringing")}setTimerToUpdateCountdown(){if(null===this.props.timer.currentTargetTime)return;let e=J(this.props.timer.currentTargetTime,gt.timeSource.now());0===e&&(e=40),this.renderCountdownTimerClearer=D(e,this.renderCountdown,this)}renderCountdown(){null!==this.countdownRef.current&&null!==this.props.timer.currentTargetTime&&(this.countdownRef.current.textContent=this.getCountdownStr(),this.setTimerToUpdateCountdown())}getCountdownStr(){let e=this.props.timer.getTimeTermToCurrentTargetTime();return null===e?null:Y(e)}getCountdownElem(){let e=this.getCountdownStr(),t=null===e;return e=null!=e?e:"Is Over",n.a.createElement("span",{ref:this.countdownRef,className:`${Ee.a.flex} ${lt.a.countdownElem} ${t?Ee.a.noData:""}`},e)}render(){let e=""===this.props.timer.name?n.a.createElement("span",{className:`${Ee.a.flex} ${Ee.a.noData}`},"No name"):n.a.createElement("span",{className:Ee.a.flex},this.props.timer.name),t=0===this.props.timer.tags.length?n.a.createElement("span",{className:Ee.a.noData},"No Tags"):n.a.createElement(he,{strings:this.props.timer.tags});return n.a.createElement("div",{className:`${Ee.a.commonGadgetComponent} ${pt.a.timerComponent}`},n.a.createElement(ye,{map:this.props.timerMap,mapKey:this.props.timer.uuid}),e,n.a.createElement("span",{title:this.getTargetTimesStr(this.props.timer.targetTimes),className:`${Ee.a.flex} ${ct.a.fraction}`},n.a.createElement("span",{className:ct.a.numerator},this.props.timer.currentTimePeriodIndex),n.a.createElement("span",{className:ct.a.line},n.a.createElement("img",{src:dt})),n.a.createElement("span",{className:ct.a.denominator},this.props.timer.targetTimes.length)),this.getCountdownElem(),n.a.createElement("div",{className:`${Ee.a.flex} ${be.a.tagListContainer}`},t),n.a.createElement("button",{className:we.a.deleteButton,onClick:this.deleteButtonClickHandler},"Delete"))}}gt.timeSource=Date;var vt=a(36),Tt=a.n(vt),ft=a(37),Et=a.n(ft),Ct=a(38),wt=a.n(Ct),kt=a(39),Nt=a.n(kt);class St extends n.a.PureComponent{constructor(){super(...arguments),this.elapsedRef=n.a.createRef(),this.renderElapsedTimerClearer=null,this.update=()=>{var e;this.forceUpdate(),this.props.stopwatch.isStarted?this.setTimerToUpdateElapsed():null===(e=this.renderElapsedTimerClearer)||void 0===e||e.clear()},this.toggleButtonClickHandler=()=>{this.props.stopwatch.toggle()},this.clearButtonClickHandler=()=>{this.props.stopwatch.clear()},this.deleteButtonClickHandler=e=>{this.props.deleteStopwatch(this.props.stopwatch)}}componentDidMount(){this.init(this.props)}componentDidUpdate(e){e.stopwatch===this.props.stopwatch&&e.deleteStopwatch===this.props.deleteStopwatch||(this.deinit(e),this.init(this.props))}componentWillUnmount(){this.deinit(this.props)}init(e){e.stopwatch.addListener("update",this.update,this),this.setTimerToUpdateElapsed()}deinit(e){var t;e.stopwatch.removeListener("update",this.update,this),null===(t=this.renderElapsedTimerClearer)||void 0===t||t.clear()}setTimerToUpdateElapsed(){if(!this.props.stopwatch.isStarted)return;let e=1e3-this.props.stopwatch.getTotalTimelength()%1e3;this.renderElapsedTimerClearer=D(e,this.renderElapsed,this)}renderElapsed(){null!==this.elapsedRef.current&&(this.elapsedRef.current.textContent=this.getElapsedStr(),this.setTimerToUpdateElapsed())}getElapsedStr(){let e=this.props.stopwatch.getTotalTimeTerm();return null===e?null:function(e,t=127,a,s){var n,r,i;let o=[];for(let a=0;a<f.length;++a){t&1<<f.length-1-a&&o.push(String(e.getPart(f[a])).padStart(null!==(n=s[a])&&void 0!==n?n:0,"0"))}let l="";for(let e=0;e<o.length-1;++e)l+=`${o[e]}${null!==(r=a[e])&&void 0!==r?r:""}`;return l+=null!==(i=o[o.length-1])&&void 0!==i?i:"",(-1===e.getSign()?"-":"")+l}(e,St.formatData.format,St.formatData.delimiters,St.formatData.paddings)}getElapsedElem(){let e=this.getElapsedStr(),t=null!==e;return e=null!=e?e:"Not Started",n.a.createElement("span",{ref:this.elapsedRef,className:`${wt.a.elapsedElem} ${Ee.a.flex} ${t?"":Ee.a.noData}`},e)}render(){let e=""===this.props.stopwatch.name?n.a.createElement("span",{className:`${Ee.a.flex} ${Ee.a.noData}`},"No name"):n.a.createElement("span",{className:Ee.a.flex},this.props.stopwatch.name),t=0===this.props.stopwatch.tags.length?n.a.createElement("span",{className:Ee.a.noData},"No Tags"):n.a.createElement(he,{strings:this.props.stopwatch.tags});return n.a.createElement("div",{className:`${Ee.a.commonGadgetComponent} ${Nt.a.stopwatchComponent}`},n.a.createElement(ye,{map:this.props.stopwatchMap,mapKey:this.props.stopwatch.uuid}),e,this.getElapsedElem(),n.a.createElement("button",{className:Tt.a.toogleButton,onClick:this.toggleButtonClickHandler},"Toggle"),n.a.createElement("button",{className:Et.a.clearButton,onClick:this.clearButtonClickHandler},"Clear"),n.a.createElement("div",{className:`${Ee.a.flex} ${be.a.tagListContainer}`},t),n.a.createElement("button",{className:we.a.deleteButton,onClick:this.deleteButtonClickHandler},"Delete"))}}function bt(e){this.setState({tags:e,isInvalid:!1})}function It(e){this.setState({name:e,isInvalid:!1})}function Lt(e=!1,t=!1){let a={name:"",tags:[],isInvalid:!1};return a.startTime=e?Date.now():null,a.endTime=t?Date.now():null,a}function xt(e){this.setState({startTime:e,isInvalid:!1})}function Ut(e){this.setState({endTime:e,isInvalid:!1})}function Pt(e){let t=[];for(let a=0;a<e;++a)t[a]=Object(d.a)();return t}St.timeSource=Date,St.formatData={format:126,delimiters:[".","."," ",":",":"],paddings:[2,2,2,2,2,2]};var Ht=a(14),yt=a.n(Ht);class Bt extends n.a.PureComponent{constructor(){super(...arguments),this.state={doNeedMoveFocus:!1,focusLiNum:null},this.ulRef=n.a.createRef(),this.stringInputChangeHandler=e=>{let t=e.target.value,a=[...this.props.strings];a[Number(e.target.parentElement.dataset.num)]=t,this.props.onUpdate(a)},this.deleteStringButtonClickHandler=e=>{let t=[...this.props.strings];t.splice(Number(e.target.parentElement.dataset.num),1),this.props.onUpdate(t)},this.newStringInputChangeHandler=e=>{let t=[...this.props.strings];t.push(e.currentTarget.value),this.props.onUpdate(t),this.setState({doNeedMoveFocus:!0})},this.onFocus=e=>this.setState({focusLiNum:Number(e.target.parentElement.dataset.num)}),this.onBlur=()=>this.setState({focusLiNum:null}),this.createIdArr=Object(le.a)(Pt)}componentDidUpdate(){if(this.state.doNeedMoveFocus){let e=this.ulRef.current;e.children[e.children.length-2].querySelector("input").focus(),this.setState({doNeedMoveFocus:!1})}}render(){let e=this.createIdArr(this.props.strings.length),t=this.props.strings.map((t,a)=>n.a.createElement("li",{key:e[a],"data-num":a,className:`${yt.a.listItem} ${this.state.focusLiNum===a?yt.a.focus:""}`},n.a.createElement("input",{type:"text",value:t,className:yt.a.input,onChange:this.stringInputChangeHandler,onFocus:this.onFocus,onBlur:this.onBlur}),n.a.createElement("button",{className:yt.a.button,onClick:this.deleteStringButtonClickHandler},n.a.createElement("img",{src:Ve}))));return n.a.createElement("ul",{ref:this.ulRef,className:yt.a.stringListAddForm},t,n.a.createElement("li",{"data-num":t.length,className:`${yt.a.listItem} ${this.state.focusLiNum===t.length?yt.a.focus:""}`},n.a.createElement("input",{type:"text",value:"",className:yt.a.input,onChange:this.newStringInputChangeHandler,onFocus:this.onFocus,onBlur:this.onBlur})))}}function Ft(e,t){return t.ctrlKey?100*e:t.shiftKey?10*e:t.altKey?.1*e:e}class Ot{constructor(e,t,a,s,n=!1){this.elem=e,this.userDownHandler=t,this.userUpHandler=a,this.userMoveHandler=s,this.doAddStyle=n,this.prevPageX=0,this.prevPageY=0,this._downHandler=e=>{this.userDownHandler(e)&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,document.addEventListener("pointermove",this._moveHandler),document.addEventListener("pointerup",this._upHandler))},this._upHandler=e=>{document.removeEventListener("pointermove",this._moveHandler),document.removeEventListener("pointerup",this._upHandler),this.userUpHandler(e),this.prevPageX=0,this.prevPageY=0},this._moveHandler=e=>{let t=e.pageX-this.prevPageX,a=e.pageY-this.prevPageY;this.userMoveHandler(e,{movementX:t,movementY:a}),this.prevPageX=e.pageX,this.prevPageY=e.pageY},this.elem.addEventListener("pointerdown",this._downHandler),this.doAddStyle&&(this.elem.style.touchAction="none")}stopHandling(){this.elem.removeEventListener("pointerdown",this._downHandler),this.doAddStyle&&(this.elem.style.touchAction="")}}class Mt{constructor(e,t,a){this.elem=e,this.userHandler=t,this.doBlockScrolling=a,this.handler=e=>{this.doBlockScrolling&&e.preventDefault(),this.userHandler(e)},this.elem.addEventListener("wheel",this.handler,{passive:!this.doBlockScrolling})}stopHandling(){this.elem.removeEventListener("wheel",this.handler)}}var _t=a(23),$t=a.n(_t);class Dt extends n.a.PureComponent{constructor(){super(...arguments),this.shiftY=0,this.isBeingDragged=!1,this.scrollableElemRef=n.a.createRef(),this.wheelHandler=e=>{0!==e.deltaY&&this.setshiftY(this.shiftY+Ft(-Math.sign(e.deltaY),e))},this.dblclickHandler=()=>{var e,t;null===(t=(e=this.props).doubleClickHandler)||void 0===t||t.call(e)},this.pointerDownHandler=e=>1===e.buttons&&(this.isBeingDragged=!0,!0),this.pointerUpHandler=()=>{this.setshiftY(0),this.isBeingDragged=!1},this.pointerMoveHandler=(e,{movementY:t})=>{0!==t&&this.setshiftY(this.shiftY+Ft(t/Number.parseInt(getComputedStyle(this.scrollableElemRef.current).fontSize,10),e))},this.pointerLeaveHandler=()=>{this.isBeingDragged||0===this.shiftY||this.setshiftY(0)}}componentDidMount(){let e=this.scrollableElemRef.current;this.dragHandling=new Ot(e,this.pointerDownHandler,this.pointerUpHandler,this.pointerMoveHandler),this.wheelHandling=new Mt(e,this.wheelHandler,!0),e.addEventListener("pointerleave",this.pointerLeaveHandler),e.addEventListener("dblclick",this.dblclickHandler)}componentWillUnmount(){let e=this.scrollableElemRef.current;this.dragHandling.stopHandling(),this.wheelHandling.stopHandling(),e.removeEventListener("pointerleave",this.pointerLeaveHandler),e.removeEventListener("dblclick",this.dblclickHandler)}setshiftY(e){if(this.shiftY=e,Math.abs(this.shiftY)>.5){let e=(t=this.shiftY,.5===Math.abs(t%1)?Math.trunc(t):Math.round(t)),a=this.shiftY%1;this.shiftY=a+-1*Math.sign(a),this.props.onUpdate(e)}var t;this.scrollableElemRef.current.style.top=this.shiftY+"em"}render(){return n.a.createElement("span",{className:$t.a.container},n.a.createElement("span",{ref:this.scrollableElemRef,className:$t.a.scrollable},n.a.createElement("span",null,this.props.values.next),n.a.createElement("span",null,this.props.values.cur),n.a.createElement("span",null,this.props.values.prev)))}}var Rt=a(5),At=a.n(Rt);function Gt(e,t){return Number.isNaN(e)?"-".padStart(t,"-"):e.toString(10).padStart(t,"0")}class Jt extends n.a.PureComponent{constructor(){super(...arguments),this.onUpdate=e=>{this.props.onUpdate(e,this.props.partName)},this.dblclickHandler=()=>{let e=-this.props.values.cur;this.props.onUpdate(e,this.props.partName)}}render(){return n.a.createElement("span",{className:At.a.inputPartContainer,"data-part":this.props.partName},n.a.createElement(Dt,{values:{prev:Gt(this.props.values.prev,this.props.padLength),cur:Gt(this.props.values.cur,this.props.padLength),next:Gt(this.props.values.next,this.props.padLength)},onUpdate:this.onUpdate,doubleClickHandler:this.dblclickHandler}))}}function jt(e,t,a,s,n){let r=new _(t.getNum());return r.setPart(r.getPart(a,s)+e,a,s,n),r.getPart(a,s)}var Yt={transfer:0,close:2,limit:1};class Wt extends n.a.PureComponent{constructor(){super(...arguments),this.onUpdate=(e,t)=>{if(null===this.props.value)return void this.props.onUpdate(0);let a=new _(this.props.value),s=a.getPart(t,this.props.utc)+e;a.setPart(s,t,this.props.utc,Yt[this.props.partSetMode]),this.props.onUpdate(a.getNum())},this.nullButtonClickHandler=()=>{this.props.onUpdate(null)}}render(){var e;let t=this.props.utc,a=Yt[this.props.partSetMode],s=new _(null!==(e=this.props.value)&&void 0!==e?e:NaN),r=null;this.props.withNullButton&&(r=n.a.createElement("button",{onClick:this.nullButtonClickHandler,className:At.a.nullButton},n.a.createElement("img",{src:Ve})));let i=n.a.createElement(Jt,{partName:"y",values:{prev:jt(-1,s,"y",t,a),cur:s.getPart("y",this.props.utc),next:jt(1,s,"y",t,a)},padLength:1,onUpdate:this.onUpdate}),o=n.a.createElement(Jt,{partName:"mo",values:{prev:jt(-1,s,"mo",t,a)+1,cur:s.getPart("mo",this.props.utc)+1,next:jt(1,s,"mo",t,a)+1},padLength:2,onUpdate:this.onUpdate}),l=n.a.createElement(Jt,{partName:"d",values:{prev:jt(-1,s,"d",t,a),cur:s.getPart("d",this.props.utc),next:jt(1,s,"d",t,a)},padLength:2,onUpdate:this.onUpdate}),m=n.a.createElement(Jt,{partName:"h",values:{prev:jt(-1,s,"h",t,a),cur:s.getPart("h",this.props.utc),next:jt(1,s,"h",t,a)},padLength:2,onUpdate:this.onUpdate}),c=n.a.createElement(Jt,{partName:"m",values:{prev:jt(-1,s,"m",t,a),cur:s.getPart("m",this.props.utc),next:jt(1,s,"m",t,a)},padLength:2,onUpdate:this.onUpdate}),d=n.a.createElement(Jt,{partName:"s",values:{prev:jt(-1,s,"s",t,a),cur:s.getPart("s",this.props.utc),next:jt(1,s,"s",t,a)},padLength:2,onUpdate:this.onUpdate}),u=n.a.createElement(Jt,{partName:"ms",values:{prev:jt(-1,s,"ms",t,a),cur:s.getPart("ms",this.props.utc),next:jt(1,s,"ms",t,a)},padLength:3,onUpdate:this.onUpdate}),p=n.a.createElement("span",{style:{width:0,visibility:"hidden"}},"a");return n.a.createElement("span",{className:At.a.timeCommonInput},n.a.createElement("div",null,p,i,".",o,".",l),n.a.createElement("div",null,m,":",c,":",d,".",u),r)}}Wt.defaultProps={withNullButton:!1,utc:!1,partSetMode:"transfer"};class qt extends n.a.PureComponent{constructor(){super(...arguments),this.onUpdate=(e,t)=>{if(null===this.props.value)return void this.props.onUpdate(new $);let a=new $(this.props.value);a.setPart(a.getPart(t)+e,t,Yt[this.props.partSetMode]),this.props.onUpdate(a)},this.nullButtonClickHandler=()=>{this.props.onUpdate(null)},this.signClickHandler=()=>{if(null!==this.props.value){let e=new $(this.props.value);e.setSign(1===this.props.value.getSign()?-1:1),this.props.onUpdate(e)}}}render(){var e;let t=Yt[this.props.partSetMode],a=null!==(e=this.props.value)&&void 0!==e?e:new $(null),s=null;this.props.withNullButton&&(s=n.a.createElement("button",{onClick:this.nullButtonClickHandler,className:At.a.nullButton},n.a.createElement("img",{src:Ve})));let r=n.a.createElement(Jt,{partName:"y",values:{prev:A(-1,a,"y",t),cur:a.getPart("y"),next:A(1,a,"y",t)},padLength:1,onUpdate:this.onUpdate}),i=n.a.createElement(Jt,{partName:"mo",values:{prev:A(-1,a,"mo",t),cur:a.getPart("mo"),next:A(1,a,"mo",t)},padLength:2,onUpdate:this.onUpdate}),o=n.a.createElement(Jt,{partName:"d",values:{prev:A(-1,a,"d",t),cur:a.getPart("d"),next:A(1,a,"d",t)},padLength:2,onUpdate:this.onUpdate}),l=n.a.createElement(Jt,{partName:"h",values:{prev:A(-1,a,"h",t),cur:a.getPart("h"),next:A(1,a,"h",t)},padLength:2,onUpdate:this.onUpdate}),m=n.a.createElement(Jt,{partName:"m",values:{prev:A(-1,a,"m",t),cur:a.getPart("m"),next:A(1,a,"m",t)},padLength:2,onUpdate:this.onUpdate}),c=n.a.createElement(Jt,{partName:"s",values:{prev:A(-1,a,"s",t),cur:a.getPart("s"),next:A(1,a,"s",t)},padLength:2,onUpdate:this.onUpdate}),d=n.a.createElement(Jt,{partName:"ms",values:{prev:A(-1,a,"ms",t),cur:a.getPart("ms"),next:A(1,a,"ms",t)},padLength:3,onUpdate:this.onUpdate}),u=n.a.createElement("span",{className:At.a.sign,onClick:this.signClickHandler},-1===a.getSign()?"-":"+");return n.a.createElement("span",{className:At.a.timeCommonInput},n.a.createElement("div",null,u,r,".",i,".",o),n.a.createElement("div",null,l,":",m,":",c,".",d),s)}}qt.timeSource=Date,qt.defaultProps={withNullButton:!0,partSetMode:"transfer"};var Kt=a.p+"imgs/nullIcon.svg",zt=a.p+"imgs/timepointIcon.svg",Vt=a.p+"imgs/timeTermIcon.svg";function Xt(e){return null===e?"null":"number"==typeof e?"timepoint":"timeTerm"}class Zt extends n.a.PureComponent{constructor(){super(...arguments),this.onUpdate=e=>{this.props.onUpdate(e)},this.modeChangeHandler=e=>{let t=Xt(this.props.value),a=e.currentTarget.value;t!==a&&("null"===a?this.props.onUpdate(null):"timepoint"===a?"timeTerm"===t?this.props.onUpdate(G(Date.now(),new $(this.props.value))):this.props.onUpdate(Date.now()):"timeTerm"===a&&("timepoint"===t?this.props.onUpdate(new $(this.props.value,Date.now())):this.props.onUpdate(new $)))}}render(){let e,t,a={onUpdate:this.props.onUpdate,withNullButton:!1,partSetMode:this.props.partSetMode},s=Xt(this.props.value);return e="null"===s?n.a.createElement("span",{className:At.a.nullValue},"Null"):"timepoint"===s?n.a.createElement(Wt,Object.assign({value:this.props.value},a,{utc:this.props.utc})):n.a.createElement(qt,Object.assign({value:this.props.value},a)),t=this.props.withNullButton?n.a.createElement("button",{value:"null",className:`${At.a.modeButton} ${"null"===s?At.a.checked:""}`,onClick:this.modeChangeHandler},n.a.createElement("img",{src:Kt})):null,n.a.createElement("div",{className:At.a.timeInput},e,n.a.createElement("div",{className:At.a.buttonContainer},n.a.createElement("button",{value:"timepoint",className:`${At.a.modeButton} ${"timepoint"===s?At.a.checked:""}`,onClick:this.modeChangeHandler},n.a.createElement("img",{src:zt})),n.a.createElement("button",{value:"timeTerm",className:`${At.a.modeButton} ${"timeTerm"===s?At.a.checked:""}`,onClick:this.modeChangeHandler},n.a.createElement("img",{src:Vt})),t))}}Zt.defaultProps={withNullButton:!1,utc:!1,partSetMode:"transfer"};var Qt=a(19),ea=a.n(Qt);function ta({value:e,onUpdate:t}){let[a,s]=n.a.useState(!1),r=n.a.useCallback(e=>t(e.target.value),[t]),i=n.a.useCallback(()=>s(!0),[]),o=n.a.useCallback(()=>s(!1),[]);return n.a.createElement("div",{className:`${ea.a.nameInputContainer} ${a?ea.a.focus:""}`},n.a.createElement("input",{type:"text",value:e,onChange:r,onFocus:i,onBlur:o,className:ea.a.nameInput}))}var aa=a(9),sa=a.n(aa),na=a(4),ra=a.n(na);function ia(){return Lt(!0,!0)}class oa extends n.a.PureComponent{constructor(){super(...arguments),this.state=ia(),this.nameUpdateHandler=It.bind(this),this.addTags=bt.bind(this),this.startTimeUpdateHandler=xt.bind(this),this.endTimeUpdateHandler=Ut.bind(this),this.addCallback=()=>{let e=function(e,t,a){let s;try{s=new q(e,t)}catch(e){if(e instanceof u&&e.cause instanceof RangeError)return!1;throw e}let n,r={...a,timeLimits:s};try{n=new X(r)}catch(e){if(e instanceof u&&e.cause instanceof p)return!1;throw e}return n}(this.state.startTime,this.state.endTime,this.state);!1!==e?(this.props.add(e),this.setState(ia())):this.setState({isInvalid:!0})}}render(){return n.a.createElement("div",{className:`${ra.a.gadgetAddForm} ${this.state.isInvalid?ra.a.invalidForm:""}`},n.a.createElement("span",{className:ra.a.header},"Regular Task Add Form"),n.a.createElement("div",null,n.a.createElement("span",null,"Name"),n.a.createElement(ta,{value:this.state.name,onUpdate:this.nameUpdateHandler})),n.a.createElement("div",null,n.a.createElement("span",null,"Start Time"),n.a.createElement(Zt,{value:this.state.startTime,onUpdate:this.startTimeUpdateHandler,withNullButton:!0})),n.a.createElement("div",null,n.a.createElement("span",null,"End Time"),n.a.createElement(Zt,{value:this.state.endTime,onUpdate:this.endTimeUpdateHandler,withNullButton:!0})),n.a.createElement("div",null,n.a.createElement("span",null,"Tags"),n.a.createElement(Bt,{strings:this.state.tags,onUpdate:this.addTags})),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.addCallback,className:sa.a.addButton},"Add Regular Task")))}}var la=a(20),ma=a.n(la);function ca({value:e,onUpdate:t}){let[a,s]=n.a.useState(!1),r=n.a.useCallback(e=>t(Number(e.target.value)),[t]),i=n.a.useCallback(()=>s(!0),[]),o=n.a.useCallback(()=>s(!1),[]);return n.a.createElement("div",{className:`${ma.a.comparisonOperatorSelect} ${a?ma.a.focus:""}`},n.a.createElement("select",{value:e,onChange:r,onFocus:i,onBlur:o,className:ma.a.select},n.a.createElement("option",{value:0},"Equal To"),n.a.createElement("option",{value:1},"Not Equal To"),n.a.createElement("option",{value:2},"Greater Than"),n.a.createElement("option",{value:3},"Less Than"),n.a.createElement("option",{value:4},"Greater Than Or Equal To"),n.a.createElement("option",{value:5},"Less Than Or Equal To")))}var da=a(21),ua=a.n(da);function pa({value:e,onUpdate:t}){let[a,s]=n.a.useState(!1),r=n.a.useCallback(()=>s(!0),[]),i=n.a.useCallback(()=>s(!1),[]),o=n.a.useCallback(e=>t(Number(e.target.value)),[t]);return n.a.createElement("div",{className:`${ua.a.numberInputContainer} ${a?ua.a.focus:""}`},n.a.createElement("input",{type:"number",value:e,className:ua.a.numberInput,onChange:o,onFocus:r,onBlur:i}))}function ha(){let e=Lt(!0,!0);return e.expected=0,e.comparisonOperator=0,e}class ga extends n.a.PureComponent{constructor(){super(...arguments),this.state=ha(),this.nameUpdateHandler=It.bind(this),this.addTags=bt.bind(this),this.startTimeUpdateHandler=xt.bind(this),this.endTimeUpdateHandler=Ut.bind(this),this.expectedUpdateHandler=e=>{this.setState({expected:e,isInvalid:!1})},this.comparisonOperatorUpdateHandler=e=>{this.setState({comparisonOperator:e,isInvalid:!1})},this.addCallback=()=>{let e=function(e,t,a){let s;try{s=new q(e,t)}catch(e){if(e instanceof u&&e.cause instanceof RangeError)return!1;throw e}let n,r={...a,timeLimits:s};try{n=new Q(r)}catch(e){if(e instanceof u&&e.cause instanceof p)return!1;throw e}return n}(this.state.startTime,this.state.endTime,this.state);!1!==e?(this.props.add(e),this.setState(ha())):this.setState({isInvalid:!0})}}render(){return n.a.createElement("div",{className:`${ra.a.gadgetAddForm} ${this.state.isInvalid?ra.a.invalidForm:""}`},n.a.createElement("span",{className:ra.a.header},"Counter Task Add Form"),n.a.createElement("div",null,n.a.createElement("span",null,"Name"),n.a.createElement(ta,{value:this.state.name,onUpdate:this.nameUpdateHandler})),n.a.createElement("div",null,n.a.createElement("span",null,"Expected Number"),n.a.createElement(pa,{value:this.state.expected,onUpdate:this.expectedUpdateHandler})),n.a.createElement("div",null,n.a.createElement("span",null,"Conparison Operator"),n.a.createElement(ca,{value:this.state.comparisonOperator,onUpdate:this.comparisonOperatorUpdateHandler})),n.a.createElement("div",null,n.a.createElement("span",null,"Start Time"),n.a.createElement(Zt,{value:this.state.startTime,onUpdate:this.startTimeUpdateHandler,withNullButton:!0})),n.a.createElement("div",null,n.a.createElement("span",null,"End Time"),n.a.createElement(Zt,{value:this.state.endTime,onUpdate:this.endTimeUpdateHandler,withNullButton:!0})),n.a.createElement("div",null,n.a.createElement("span",null,"Tags"),n.a.createElement(Bt,{strings:this.state.tags,onUpdate:this.addTags})),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.addCallback,className:sa.a.addButton},"Add Counter Task")))}}class va extends n.a.PureComponent{constructor(){super(...arguments),this.state={name:"",tags:[],isInvalid:!1},this.nameUpdateHandler=It.bind(this),this.addTags=bt.bind(this),this.addCallback=()=>{let e=function(e){let t;try{t=new ee(e)}catch(e){if(e instanceof u&&e.cause instanceof p)return!1;throw e}return t}(this.state);!1!==e?(this.props.add(e),this.setState({name:"",tags:[],isInvalid:!1})):this.setState({isInvalid:!0})}}render(){return n.a.createElement("div",{className:`${ra.a.gadgetAddForm} ${this.state.isInvalid?ra.a.invalidForm:""}`},n.a.createElement("span",{className:ra.a.header},"String List Add Form"),n.a.createElement("div",null,n.a.createElement("span",null,"Name"),n.a.createElement(ta,{value:this.state.name,onUpdate:this.nameUpdateHandler})),n.a.createElement("div",null,n.a.createElement("span",null,"Tags"),n.a.createElement(Bt,{strings:this.state.tags,onUpdate:this.addTags})),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.addCallback,className:sa.a.addButton},"Add String List")))}}var Ta=a(22),fa=a.n(Ta);function Ea({value:e,onUpdate:t}){let[a,s]=n.a.useState(!1),r=n.a.useCallback(e=>t(e.target.value),[t]),i=n.a.useCallback(()=>s(!0),[]),o=n.a.useCallback(()=>s(!1),[]);return n.a.createElement("div",{className:`${fa.a.nameInputContainer} ${a?fa.a.focus:""}`},n.a.createElement("textarea",{value:e,onChange:r,onFocus:i,onBlur:o,className:fa.a.nameInput}))}function Ca(){let e={name:"",tags:[],isInvalid:!1,message:""};return e}class wa extends n.a.PureComponent{constructor(){super(...arguments),this.state=Ca(),this.nameUpdateHandler=It.bind(this),this.addTags=bt.bind(this),this.messageUpdateHandler=e=>{this.setState({message:e,isInvalid:!1})},this.addCallback=()=>{let e=function(e){let t;try{t=new te(e)}catch(e){if(e instanceof u&&e.cause instanceof p)return!1;throw e}return t}(this.state);!1!==e?(this.props.add(e),this.setState(Ca())):this.setState({isInvalid:!0})}}render(){return n.a.createElement("div",{className:`${ra.a.gadgetAddForm} ${this.state.isInvalid?ra.a.invalidForm:""}`},n.a.createElement("span",{className:ra.a.header},"Message Add Form"),n.a.createElement("div",null,n.a.createElement("span",null,"Name"),n.a.createElement(ta,{value:this.state.name,onUpdate:this.nameUpdateHandler})),n.a.createElement("div",null,n.a.createElement("span",null,"Message"),n.a.createElement(Ea,{value:this.state.message,onUpdate:this.messageUpdateHandler})),n.a.createElement("div",null,n.a.createElement("span",null,"Tags"),n.a.createElement(Bt,{strings:this.state.tags,onUpdate:this.addTags})),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.addCallback,className:sa.a.addButton},"Add Message")))}}var ka=a(15),Na=a.n(ka);class Sa extends n.a.PureComponent{constructor(){super(...arguments),this.state={inputValue:Date.now(),focusLiNum:null},this.timeInputUpdateHandler=(e,t)=>{let a=[...this.props.times];a[e]=t,this.props.onUpdate(a)},this.deleteTimeButtonClickHandler=e=>{let t=[...this.props.times];t.splice(Number(e.target.parentElement.dataset.num),1),this.props.onUpdate(t)},this.newTimeInputUpdateHandler=e=>{this.setState({inputValue:e})},this.newTimeInputClickHandler=()=>{let e=[...this.props.times];e.push(this.state.inputValue),this.props.onUpdate(e),this.setState({inputValue:Date.now()})},this.createIdArr=Object(le.a)(Pt)}render(){let e=this.createIdArr(this.props.times.length),t=this.props.times.map((t,a)=>n.a.createElement("li",{key:e[a],"data-num":a,className:`${Na.a.listItem} ${this.state.focusLiNum===a?Na.a.focus:""}`},n.a.createElement(Zt,{value:t,onUpdate:e=>this.timeInputUpdateHandler(a,e)}),n.a.createElement("button",{className:Na.a.button,onClick:this.deleteTimeButtonClickHandler},n.a.createElement("img",{src:Ve}))));return n.a.createElement("ul",{className:Na.a.timeListAddForm},t,n.a.createElement("li",{"data-num":t.length,className:`${Na.a.listItem} ${Na.a.newTimeInput} ${this.state.focusLiNum===t.length?Na.a.focus:""}`},n.a.createElement(Zt,{value:this.state.inputValue,onUpdate:this.newTimeInputUpdateHandler}),n.a.createElement("button",{className:Na.a.button,onClick:this.newTimeInputClickHandler},n.a.createElement("img",{src:je}))))}}function ba(){let e={name:"",tags:[],isInvalid:!1,targetTimes:[]};return e}class Ia extends n.a.PureComponent{constructor(){super(...arguments),this.state=ba(),this.nameUpdateHandler=It.bind(this),this.addTags=bt.bind(this),this.targetTimeOnUpdate=e=>{this.setState({targetTimes:e,isInvalid:!1})},this.addCallback=()=>{let e=function(e){let t;try{t=new se(e)}catch(e){if(e instanceof u&&e.cause instanceof p)return!1;throw e}return t}(this.state);!1!==e?(this.props.add(e),this.setState(ba())):this.setState({isInvalid:!0})}}render(){return n.a.createElement("div",{className:`${ra.a.gadgetAddForm} ${this.state.isInvalid?ra.a.invalidForm:""}`},n.a.createElement("span",{className:ra.a.header},"Timer Add Form"),n.a.createElement("div",null,n.a.createElement("span",null,"Name"),n.a.createElement(ta,{value:this.state.name,onUpdate:this.nameUpdateHandler})),n.a.createElement("div",null,n.a.createElement("span",null,"Times"),n.a.createElement(Sa,{times:this.state.targetTimes,onUpdate:this.targetTimeOnUpdate})),n.a.createElement("div",null,n.a.createElement("span",null,"Tags"),n.a.createElement(Bt,{strings:this.state.tags,onUpdate:this.addTags})),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.addCallback,className:sa.a.addButton},"Add Timer")))}}class La extends n.a.PureComponent{constructor(){super(...arguments),this.state={name:"",tags:[],isInvalid:!1},this.nameUpdateHandler=It.bind(this),this.addTags=bt.bind(this),this.addCallback=()=>{let e=function(e){let t;try{t=new ae(e)}catch(e){if(e instanceof u&&e.cause instanceof p)return!1;throw e}return t}(this.state);!1!==e?(this.props.add(e),this.setState({name:"",tags:[],isInvalid:!1})):this.setState({isInvalid:!0})}}render(){return n.a.createElement("div",{className:`${ra.a.gadgetAddForm} ${this.state.isInvalid?ra.a.invalidForm:""}`},n.a.createElement("span",{className:ra.a.header},"Stopwatch Add Form"),n.a.createElement("div",null,n.a.createElement("span",null,"Name"),n.a.createElement(ta,{value:this.state.name,onUpdate:this.nameUpdateHandler})),n.a.createElement("div",null,n.a.createElement("span",null,"Tags"),n.a.createElement(Bt,{strings:this.state.tags,onUpdate:this.addTags})),n.a.createElement("div",null,n.a.createElement("button",{onClick:this.addCallback,className:sa.a.addButton},"Add Stopwatch")))}}var xa=a(2),Ua=a.n(xa),Pa=a.p+"imgs/addRegularTaskIcon.svg",Ha=a.p+"imgs/addCounterTaskIcon.svg",ya=a.p+"imgs/addStringListIcon.svg",Ba=a.p+"imgs/addMessageIcon.svg",Fa=a.p+"imgs/addTimerIcon.svg",Oa=a.p+"imgs/addStopwatchIcon.svg",Ma=a.p+"imgs/downloadIcon.svg",_a=a.p+"imgs/uploadIcon.svg";class $a extends n.a.PureComponent{constructor(){super(...arguments),this.state={whatForm:null},this.containerRef=n.a.createRef(),this.addGadgetButtonClickHandler=e=>{let t=e.target.value;t===this.state.whatForm?this.setStateWhatForm(null):this.setStateWhatForm(t)},this.downloadButtonClickHandler=()=>{this.props.downloadState()},this.uploadButtonClickHandler=()=>{this.props.uploadState()},this.closeForm=()=>{this.setStateWhatForm(null)},this.documentClickHandler=e=>{e.composedPath().includes(this.containerRef.current.querySelector(`.${Ua.a.selected}`))||this.setStateWhatForm(null)}}setStateWhatForm(e){let t=this.state.whatForm;null===t&&null!==e?(this.containerRef.current.querySelector(`.${Ua.a.fixedContainer}`).style.pointerEvents="initial",document.addEventListener("click",this.documentClickHandler)):null!==t&&null===e&&(this.containerRef.current.querySelector(`.${Ua.a.fixedContainer}`).style.pointerEvents="",document.removeEventListener("click",this.documentClickHandler)),this.setState({whatForm:e})}render(){let e=n.a.createElement("button",{onClick:this.closeForm,className:Ua.a.closeButton},n.a.createElement("img",{src:Ve}));return n.a.createElement("div",{ref:this.containerRef,className:Ua.a.Sidebar},n.a.createElement("div",{className:Ua.a.buttonContainer},n.a.createElement("button",{value:"message",className:Ua.a.button,onClick:this.addGadgetButtonClickHandler},n.a.createElement("img",{src:Ba,className:Ua.a.addGadgetIcon})),n.a.createElement("button",{value:"regularTask",className:Ua.a.button,onClick:this.addGadgetButtonClickHandler},n.a.createElement("img",{src:Pa,className:Ua.a.addGadgetIcon})),n.a.createElement("button",{value:"counterTask",className:Ua.a.button,onClick:this.addGadgetButtonClickHandler},n.a.createElement("img",{src:Ha,className:Ua.a.addGadgetIcon})),n.a.createElement("button",{value:"stringList",className:Ua.a.button,onClick:this.addGadgetButtonClickHandler},n.a.createElement("img",{src:ya,className:Ua.a.addGadgetIcon})),n.a.createElement("button",{value:"timer",className:Ua.a.button,onClick:this.addGadgetButtonClickHandler},n.a.createElement("img",{src:Fa,className:Ua.a.addGadgetIcon})),n.a.createElement("button",{value:"stopwatch",className:Ua.a.button,onClick:this.addGadgetButtonClickHandler},n.a.createElement("img",{src:Oa,className:Ua.a.addGadgetIcon})),n.a.createElement("button",{className:Ua.a.button,onClick:this.downloadButtonClickHandler},n.a.createElement("img",{src:Ma})),n.a.createElement("button",{className:Ua.a.button,onClick:this.uploadButtonClickHandler},n.a.createElement("img",{src:_a}))),n.a.createElement("div",{className:Ua.a.fixedContainer},n.a.createElement("div",{className:`${Ua.a.formContainer} ${"message"===this.state.whatForm?Ua.a.selected:""}`},n.a.createElement(wa,{add:this.props.addMessage}),e),n.a.createElement("div",{className:`${Ua.a.formContainer} ${"regularTask"===this.state.whatForm?Ua.a.selected:""}`},n.a.createElement(oa,{add:this.props.addRegularTask}),e),n.a.createElement("div",{className:`${Ua.a.formContainer} ${"counterTask"===this.state.whatForm?Ua.a.selected:""}`},n.a.createElement(ga,{add:this.props.addCounterTask}),e),n.a.createElement("div",{className:`${Ua.a.formContainer} ${"stringList"===this.state.whatForm?Ua.a.selected:""}`},n.a.createElement(va,{add:this.props.addStringListGadget}),e),n.a.createElement("div",{className:`${Ua.a.formContainer} ${"timer"===this.state.whatForm?Ua.a.selected:""}`},n.a.createElement(Ia,{add:this.props.addTimer}),e),n.a.createElement("div",{className:`${Ua.a.formContainer} ${"stopwatch"===this.state.whatForm?Ua.a.selected:""}`},n.a.createElement(La,{add:this.props.addStopwatch}),e)))}}var Da=a(11),Ra=a.n(Da);const Aa=n.a.createElement("span",{className:Ra.a.empty},"Empty");class Ga extends n.a.PureComponent{constructor(){super(...arguments),this.update=()=>{this.forceUpdate()},this.addRegularTask=e=>{this.props.core.regularTasks.set(e.uuid,e)},this.deleteRegularTask=e=>{this.props.core.regularTasks.delete(e.uuid)},this.addCounterTask=e=>{this.props.core.counterTasks.set(e.uuid,e)},this.deleteCounterTask=e=>{this.props.core.counterTasks.delete(e.uuid)},this.addStringListGadget=e=>{this.props.core.stringLists.set(e.uuid,e)},this.deleteStringListGadget=e=>{this.props.core.stringLists.delete(e.uuid)},this.addMessage=e=>{this.props.core.messages.set(e.uuid,e)},this.deleteMessage=e=>{this.props.core.messages.delete(e.uuid)},this.addTimer=e=>{this.props.core.timers.set(e.uuid,e)},this.deleteTimer=e=>{this.props.core.timers.delete(e.uuid)},this.addStopwatch=e=>{this.props.core.stopwatches.set(e.uuid,e)},this.deleteStopwatch=e=>{this.props.core.stopwatches.delete(e.uuid)},this.saveStateToFile=()=>{this.props.core.saveStateToFile()},this.loadStateFromFile=()=>{this.props.core.loadStateFromFile()}}componentDidMount(){this.init(this.props)}componentDidUpdate(e){e.core!==this.props.core&&(this.deinit(e),this.init(this.props))}componentWillUnmount(){this.deinit(this.props)}init(e){e.core.regularTasks.addListener("setItem",this.update,this),e.core.regularTasks.addListener("deleteItem",this.update,this),e.core.regularTasks.addListener("moveItem",this.update,this),e.core.counterTasks.addListener("setItem",this.update,this),e.core.counterTasks.addListener("deleteItem",this.update,this),e.core.counterTasks.addListener("moveItem",this.update,this),e.core.stringLists.addListener("setItem",this.update,this),e.core.stringLists.addListener("deleteItem",this.update,this),e.core.stringLists.addListener("moveItem",this.update,this),e.core.messages.addListener("setItem",this.update,this),e.core.messages.addListener("deleteItem",this.update,this),e.core.messages.addListener("moveItem",this.update,this),e.core.timers.addListener("setItem",this.update,this),e.core.timers.addListener("deleteItem",this.update,this),e.core.timers.addListener("moveItem",this.update,this),e.core.stopwatches.addListener("setItem",this.update,this),e.core.stopwatches.addListener("deleteItem",this.update,this),e.core.stopwatches.addListener("moveItem",this.update,this)}deinit(e){e.core.regularTasks.removeListener("setItem",this.update,this),e.core.regularTasks.removeListener("deleteItem",this.update,this),e.core.regularTasks.removeListener("moveItem",this.update,this),e.core.counterTasks.removeListener("setItem",this.update,this),e.core.counterTasks.removeListener("deleteItem",this.update,this),e.core.counterTasks.removeListener("moveItem",this.update,this),e.core.stringLists.removeListener("setItem",this.update,this),e.core.stringLists.removeListener("deleteItem",this.update,this),e.core.stringLists.removeListener("moveItem",this.update,this),e.core.messages.removeListener("setItem",this.update,this),e.core.messages.removeListener("deleteItem",this.update,this),e.core.messages.removeListener("moveItem",this.update,this),e.core.timers.removeListener("setItem",this.update,this),e.core.timers.removeListener("deleteItem",this.update,this),e.core.timers.removeListener("moveItem",this.update,this),e.core.stopwatches.removeListener("setItem",this.update,this),e.core.stopwatches.removeListener("deleteItem",this.update,this),e.core.stopwatches.removeListener("moveItem",this.update,this)}render(){let e=[...this.props.core.regularTasks.values()],t=0!==e.length?e.map(e=>n.a.createElement(Be,{key:e.uuid,regularTask:e,deleteRegularTask:this.deleteRegularTask,regularTaskMap:this.props.core.regularTasks})):Aa,a=[...this.props.core.counterTasks.values()],s=0!==a.length?a.map(e=>n.a.createElement(qe,{key:e.uuid,counterTask:e,deleteCounterTask:this.deleteCounterTask,counterTaskMap:this.props.core.counterTasks})):Aa,r=[...this.props.core.stringLists.values()],i=0!==r.length?r.map(e=>n.a.createElement(tt,{key:e.uuid,stringList:e,deleteStringListGadget:this.deleteStringListGadget,stringListGadgetMap:this.props.core.stringLists})):Aa,o=[...this.props.core.messages.values()],l=0!==o.length?o.map(e=>n.a.createElement(it,{key:e.uuid,message:e,deleteMessage:this.deleteMessage,messageMap:this.props.core.messages})):Aa,m=[...this.props.core.timers.values()],c=0!==m.length?m.map(e=>n.a.createElement(gt,{key:e.uuid,timer:e,deleteTimer:this.deleteTimer,timerMap:this.props.core.timers})):Aa,d=[...this.props.core.stopwatches.values()],u=0!==d.length?d.map(e=>n.a.createElement(St,{key:e.uuid,stopwatch:e,deleteStopwatch:this.deleteStopwatch,stopwatchMap:this.props.core.stopwatches})):Aa;return n.a.createElement("div",{className:Ra.a.app},n.a.createElement("div",{className:Ra.a.left},n.a.createElement($a,{addMessage:this.addMessage,addRegularTask:this.addRegularTask,addCounterTask:this.addCounterTask,addStringListGadget:this.addStringListGadget,addTimer:this.addTimer,addStopwatch:this.addStopwatch,downloadState:this.saveStateToFile,uploadState:this.loadStateFromFile})),n.a.createElement("div",{className:Ra.a.right},n.a.createElement("div",{className:Ra.a.componentSection},n.a.createElement("span",null,"Messages"),n.a.createElement("ul",null,l)),n.a.createElement("div",{className:Ra.a.componentSection},n.a.createElement("span",null,"Regular Tasks"),n.a.createElement("ul",null,t)),n.a.createElement("div",{className:Ra.a.componentSection},n.a.createElement("span",null,"Counter Tasks"),n.a.createElement("ul",null,s)),n.a.createElement("div",{className:Ra.a.componentSection},n.a.createElement("span",null,"String Lists"),n.a.createElement("ul",null,i)),n.a.createElement("div",{className:Ra.a.componentSection},n.a.createElement("span",null,"Timers"),n.a.createElement("ul",null,c)),n.a.createElement("div",{className:Ra.a.componentSection},n.a.createElement("span",null,"Stopwatches"),n.a.createElement("ul",null,u))))}}a(45);let Ja=new ne(window.localStorage,"items");Ja.getItemsFromStorage();let ja=new class{constructor(e,t){this._storage=e,this._storageKey=t,this.theme="light"}getStateFromStorage(){let e=this._storage.getItem(this._storageKey);if(null===e)return;let t=JSON.parse(e);t instanceof Object&&"string"==typeof t.theme&&(this.theme=t.theme)}sendStateToStorage(){this._storage.setItem(this._storageKey,JSON.stringify({theme:this.theme}))}}(window.localStorage,"uiState");ja.getStateFromStorage(),i.a.render(n.a.createElement(Ga,{core:Ja,uiState:ja}),document.getElementById("root"))}]);